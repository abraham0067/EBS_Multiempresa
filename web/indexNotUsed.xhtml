<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">

    <body>

        <ui:composition template="./templates/templateLogin.xhtml">

            <ui:define  name="top">
                <p:graphicImage library="img" name="ebs.jpg" alt="EBS" width="17%"></p:graphicImage>
                <p:outputLabel class="textLogin" value="Facturación Electrónica EB&amp;S"></p:outputLabel>
            </ui:define>                              
            <ui:define name="content" >
                <div style=" ">
                    <h:form enctype="multipart/form-data">  
                        <p:growl id="msgs" life="16000" showDetail="false" />
                        <br/>
                        <p:panel class="panelCentered" header="Acceso" id="panel" style="width: 350px;" >
                            <h:panelGrid columns="2" cellpadding="5">
                                <!--
                                Email regular expression
                                [_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$
                            -->
                                <p:outputLabel for="userID" value="Usuario" />
                                <p:inputText id="userID" value="#{managedBeanLogin.userNick}" required="true" requiredMessage="El nombre de usuario es obligatorio." label="Usuario">
                                </p:inputText>
                                <p:outputLabel for="pass" value="Contrase&ntilde;a" />
                                <p:password id="pass" value="#{managedBeanLogin.password}" required="true" requiredMessage="La contrase&ntilde;a es obligatoria." label="Contrase&ntilde;a">
                                </p:password>
                                <p:commandButton value="Entrar" ajax="false" action="#{managedBeanLogin.login()}"  icon="fa fa-fw fa-sign-in" />
                                <p:link id="clRec" value="¿Olvido su contrase&ntilde;a?" outcome="recovery" >
                                </p:link>
                                <p:commandButton value="Registro" immediate="true" action="#{managedBeanLogin.redirectAutoregistroPage()}" icon="fa fa-fw fa-group" />
                            </h:panelGrid>
                            <p:outputLabel id="ulResp" value="#{managedBeanLogin.mensaje}" style="color: red;"/>
                        </p:panel>

                    </h:form>
                    <!--AJAX STATUS-->
                    <p:dialog widgetVar="statusDialog" modal="true" position="center" draggable="false" closable="false" resizable="false" showHeader="false">
                        <p:graphicImage library="img" name="ajaxloadingbar.gif" alt="Procesando..."></p:graphicImage>
                    </p:dialog><br/>
                    <br/>
                    <br/>
                    <br/>
                    <br/>
                    <br/>
                    <br/>
                    <br/>
                    <br/>
                    <br/>
                    <br/>
                    <br/>
                    <br/>
                    <br/>
                </div>
            </ui:define>

        </ui:composition>

    </body>
</html>
