<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <head>
        <script src='https://www.google.com/recaptcha/api.js'></script>
    </head>
    <body>
        <ui:composition template="./../templates/templateIndex.xhtml">
            
            <ui:define  name="top">
                <p:graphicImage library="img" name="ebs_logo.png" alt="EBS" height="50px"></p:graphicImage><!--Imagen modificada-->
            </ui:define>
            
            <ui:define name="left">
                <div style="float: left; padding-left: 8%; padding-bottom: 50px">
                    <h:form>  
                        <p:growl id="msgs" life="16000" showDetail="false" />
                        <br/>
                        <p:panel class="panelCentered" header="Registro de prueba" id="panel" style="width: 700px;" >
                            <p:fieldset legend="Datos fiscales">
                                <h:panelGrid id="pnlDatos" columns="4" columnClasses="ui-grid-col-2, ui-grid-col-4, ui-grid-col-2, ui-grid-col-4" width="100%"> 
                                    <p:outputLabel for="userRFC" value="R.F.C:" />
                                    <p:inputText id="userRFC" value="#{managedBeanCuentaPrueba.empresa.rfcOrigen}" required="true" requiredMessage="Es necesario que ingrese su R.F.C." 
                                                 validatorMessage="Ingrese un R.F.C. valido." >
                                        <f:validateLength maximum="13" minimum="12" />
                                        <p:watermark value="Será tu nombre de usuario." for="userRFC"/>
                                    </p:inputText>
                                    <p:outputLabel for="userRz" value="Razón Social:" />
                                    <p:inputText id="userRz" value="#{managedBeanCuentaPrueba.empresa.razonSocial}" required="true" requiredMessage="La razon social es obligatoria."
                                                 maxlength="100">
                                    </p:inputText>

                                    <p:outputLabel  />
                                    <p:outputLabel  />
                                    <p:outputLabel  />
                                    <p:outputLabel value="Si es una Persona Fisica, escribe tu nombre correcto." />

                                    <p:outputLabel for="itPais" value="País:" />
                                    <p:inputText id="itPais" value="#{managedBeanCuentaPrueba.direccion.pais}" required="true" requiredMessage="Es necesario que ingrese el País." >
                                    </p:inputText>
                                    <p:outputLabel for="itEdo" value="Estado:" />
                                    <p:inputText id="itEdo" value="#{managedBeanCuentaPrueba.direccion.estado}" >
                                    </p:inputText>

                                    <p:outputLabel for="itMun" value="Municipio:" />
                                    <p:inputText id="itMun" value="#{managedBeanCuentaPrueba.direccion.municipio}"  >
                                    </p:inputText>
                                    <p:outputLabel for="itCP" value="Código Postal:" />
                                    <p:inputText id="itCP" value="#{managedBeanCuentaPrueba.direccion.cp}" >
                                    </p:inputText>

                                    <p:outputLabel for="itLocal" value="Localidad:" escape="truw"/>
                                    <p:inputText id="itLocal" value="#{managedBeanCuentaPrueba.direccion.localidad}"  >
                                    </p:inputText>
                                    <p:outputLabel for="itCol" value="Colonia:" />
                                    <p:inputText id="itCol" value="#{managedBeanCuentaPrueba.direccion.colonia}" >
                                    </p:inputText>

                                    <p:outputLabel for="itCalle" value="Calle:" />
                                    <p:inputText id="itCalle" value="#{managedBeanCuentaPrueba.direccion.calle}" required="true" requiredMessage="La calle es un campo obligatorio."  >
                                    </p:inputText>
                                    <p:outputLabel for="itNoExt" value="Número Exterior:" />
                                    <p:inputText id="itNoExt" value="#{managedBeanCuentaPrueba.direccion.noExterior}" >
                                    </p:inputText>

                                    <p:outputLabel for="itNoInt" value="Número Interior:" />
                                    <p:inputText id="itNoInt" value="#{managedBeanCuentaPrueba.direccion.noInterior}" >
                                    </p:inputText>
                                    <p:outputLabel/>
                                    <p:outputLabel/>                                    
                                </h:panelGrid>
                            </p:fieldset>
                            <p:fieldset legend="Datos de contacto">
                                <h:panelGrid id="pnlCto" columns="4" columnClasses="ui-grid-col-2, ui-grid-col-4, ui-grid-col-2, ui-grid-col-4" width="100%">
                                    <p:outputLabel for="itNombre" value="Nombre:" />
                                    <p:inputText id="itNombre" value="#{managedBeanCuentaPrueba.empresa.nombreContacto}" required="true" requiredMessage="Es necesario que ingrese el nombre de contacto." >
                                    </p:inputText>
                                    <p:outputLabel for="itCel" value="Celular:" />
                                    <p:inputText id="itCel" value="#{managedBeanCuentaPrueba.empresa.celularContacto}" >
                                    </p:inputText>

                                    <p:outputLabel for="itEmail" value="Email:" />
                                    <p:inputText id="itEmail" value="#{managedBeanCuentaPrueba.empresa.correoContacto}" required="true" requiredMessage="Por favor ingrese su Email."
                                                 validatorMessage="Ingrese un correo electronico valido.">
                                        <f:validateRegex pattern="[a-z0-9]+[_a-z0-9\.-]*[a-z0-9]+@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,4})"/>
                                    </p:inputText>
                                    <p:outputLabel for="itTelf" value="Telefono:" />
                                    <p:inputText id="itTelf" value="#{managedBeanCuentaPrueba.empresa.telefonoContacto}" >
                                    </p:inputText>
                                </h:panelGrid>

                            </p:fieldset>
                            <p:captcha id="cptchFilter"  validatorMessage="El captcha es incorrecto." label="Captcha" language="es" theme="clean" 
                                       requiredMessage="Ingrese el captcha." secure="true"/>
                            <br/>
                            <p:commandButton value="Registrarse Ahora" update="msgs, pnlDatos, pnlCto" action="#{managedBeanCuentaPrueba.registrar()}"  />
                            <p:commandButton value="Iniciar Sesión" action="#{managedBeanCuentaPrueba.redirectLoginPage()}" immediate="true" />
                        </p:panel>

                    </h:form>
                </div>
            </ui:define>
            <ui:define name="right">
            </ui:define>

        </ui:composition>

    </body>
</html>
